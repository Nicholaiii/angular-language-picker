/**
 * @name angular-language-picker
 * @version v0.4.0
 * @author Build by Andrej Zachar andrej@chocolatejar.eu
 * @license MPL-2.0
 */
!function(e,n){n.module("language-picker",["templates-languagePicker","ui.bootstrap"]).constant("langMap",e.languageMappingList).directive("languagePicker",["$uibModal","langMap",function(e,a){return{restrict:"A",transclude:!0,scope:{languages:"=",callback:"&?onChange",model:"=?",empty:"@?",flags:"@?",icon:"@?",help:"@?",template:"@?"},templateUrl:"language-picker-button.tpl.html",link:function(l,t,o,i){function c(e){var n=e.split("-"),a="en_US";return a=n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():n[0].toLowerCase()}function g(e){var n=e.split("-");return n.length>1?n[1].toLowerCase():e}function r(e){var n=a[e]||{nativeName:e,englishName:e};return n.code=e,n.country=g(e),n.asLowDashCode=function(){return c(e)},n}n.isDefined(l.icon)&&("icon"==l.icon?l.ikon="fa fa-language":l.ikon=l.icon);var u;n.isDefined(l.flags)&&(u="flags"==l.flags?!0:Boolean(l.flags));var s="language-picker-dialog.tpl.html";n.isDefined(l.template)&&(s=l.template),l.open=function(){e.open({templateUrl:s,controller:["$scope","$uibModalInstance",function(e,a){e.close=a.close,e.limitMin=4,e.limitMax=24,e.flags=u,e.ikon=l.ikon,e.help=l.help,e.empty=l.empty,e.languages=l.languages.map(function(e){return r(e)}),e.selectedLanguage=function(e){e?l.model=e.code:l.model=void 0,n.isDefined(l.callback)&&l.callback()(e),a.close()}}]})},t.bind("click",l.open)}}}])}(window,window.angular);